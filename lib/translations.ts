// Houston, Texas Spanish dialect translations
// Influenced by Mexican Spanish with Texas regionalisms

export const translations = {
  en: {
    // Navigation
    discover: 'Discover',
    map: 'Map',
    grubRoulette: 'Grub Roulette',
    categories: 'Categories',
    blog: 'Blog',
    launch: 'Launch',
    advertise: 'Advertise',
    signIn: 'Sign In',
    signUp: 'Sign Up',
    
    // Home page
    heroTitle: 'Discover Katy\'s Best Restaurants',
    heroSubtitle: 'Your AI-powered guide to local dining experiences',
    heroLaunchBadge: 'Join our launch celebration with deals, coupons & giveaways!',
    findBestRestaurants: 'Find the Best Restaurants in Katy, Texas',
    discoverLocal: 'Discover local favorites, hidden gems, and new dining experiences',
    searchPlaceholder: 'Search restaurants, cuisines, or dishes...',
    featuredRestaurants: 'Featured Restaurants',
    viewAll: 'View All',
    browseAllRestaurants: 'Browse All Restaurants',
    tryGrubRoulette: 'Try Grub Roulette',
    browseByCategory: 'Browse by Category',
    cantDecide: 'Can\'t Decide? Spin the Wheel!',
    grubRouletteDesc: 'Let Grub Roulette pick your next dining adventure',
    startSpinning: 'Start Spinning',
    exploreMap: 'Explore Restaurants on the Map',
    exploreMapDesc: 'Find restaurants near you with our interactive map',
    viewInteractiveMap: 'View Interactive Map',
    openMap: 'Open Map',
    
    // Restaurant details
    about: 'About',
    contactHours: 'Contact & Hours',
    address: 'Address',
    phone: 'Phone',
    website: 'Website',
    getDirections: 'Get Directions',
    reviews: 'Reviews',
    writeReview: 'Write a Review',
    
    // Common
    loading: 'Loading...',
    save: 'Save',
    cancel: 'Cancel',
    edit: 'Edit',
    delete: 'Delete',
    search: 'Search',
    filter: 'Filter',
    sort: 'Sort',
    
    // Price levels
    budget: 'Budget',
    moderate: 'Moderate',
    upscale: 'Upscale',
    premium: 'Premium',
    
    // Footer
    explore: 'Explore',
    allRestaurants: 'All Restaurants',
    interactiveMap: 'Interactive Map',
    featured: 'Featured',
    familyDiningBlog: 'Family Dining Blog',
    popularCategories: 'Popular Categories',
    forBusinesses: 'For Businesses',
    restaurantPartners: 'Restaurant Partners',
    investorRelations: 'Investor Relations',
    advertiseWithUs: 'Advertise With Us',
    privacyPolicy: 'Privacy Policy',
    allRightsReserved: 'All rights reserved',
    poweredBy: 'Powered by',
    aiPoweredGuide: 'Your AI-powered guide to the best restaurants in Katy, Texas.',
  },
  es: {
    // Navigation
    discover: 'Descubrir',
    map: 'Mapa',
    grubRoulette: 'Ruleta de Comida',
    categories: 'Categorías',
    blog: 'Blog',
    launch: 'Lanzamiento',
    advertise: 'Anunciar',
    signIn: 'Iniciar Sesión',
    signUp: 'Registrarse',
    
    // Home page
    heroTitle: 'Descubre los Mejores Restaurantes de Katy',
    heroSubtitle: 'Tu guía inteligente para experiencias gastronómicas locales',
    heroLaunchBadge: '¡Únete a nuestra celebración de lanzamiento con ofertas, cupones y sorteos!',
    findBestRestaurants: 'Encuentra los Mejores Restaurantes en Katy, Texas',
    discoverLocal: 'Descubre favoritos locales, joyas escondidas y nuevas experiencias gastronómicas',
    searchPlaceholder: 'Busca restaurantes, cocinas o platillos...',
    featuredRestaurants: 'Restaurantes Destacados',
    viewAll: 'Ver Todos',
    browseAllRestaurants: 'Ver Todos los Restaurantes',
    tryGrubRoulette: 'Prueba la Ruleta de Comida',
    browseByCategory: 'Buscar por Categoría',
    cantDecide: '¿No Puedes Decidir? ¡Gira la Ruleta!',
    grubRouletteDesc: 'Deja que la Ruleta de Comida elija tu próxima aventura gastronómica',
    startSpinning: 'Comenzar a Girar',
    exploreMap: 'Explora Restaurantes en el Mapa',
    exploreMapDesc: 'Encuentra restaurantes cerca de ti con nuestro mapa interactivo',
    viewInteractiveMap: 'Ver Mapa Interactivo',
    openMap: 'Abrir Mapa',
    
    // Restaurant details
    about: 'Acerca de',
    contactHours: 'Contacto y Horario',
    address: 'Dirección',
    phone: 'Teléfono',
    website: 'Sitio Web',
    getDirections: 'Cómo Llegar',
    reviews: 'Reseñas',
    writeReview: 'Escribir una Reseña',
    
    // Common
    loading: 'Cargando...',
    save: 'Guardar',
    cancel: 'Cancelar',
    edit: 'Editar',
    delete: 'Eliminar',
    search: 'Buscar',
    filter: 'Filtrar',
    sort: 'Ordenar',
    
    // Price levels
    budget: 'Económico',
    moderate: 'Moderado',
    upscale: 'Elegante',
    premium: 'Premium',
    
    // Footer
    explore: 'Explorar',
    allRestaurants: 'Todos los Restaurantes',
    interactiveMap: 'Mapa Interactivo',
    featured: 'Destacados',
    familyDiningBlog: 'Blog de Comida Familiar',
    popularCategories: 'Categorías Populares',
    forBusinesses: 'Para Negocios',
    restaurantPartners: 'Socios Restauranteros',
    investorRelations: 'Relaciones con Inversionistas',
    advertiseWithUs: 'Anuncia con Nosotros',
    privacyPolicy: 'Política de Privacidad',
    allRightsReserved: 'Todos los derechos reservados',
    poweredBy: 'Desarrollado por',
    aiPoweredGuide: 'Tu guía inteligente para los mejores restaurantes en Katy, Texas.',
  },
  vi: {
    // Navigation
    discover: 'Khám Phá',
    map: 'Bản Đồ',
    grubRoulette: 'Vòng Quay Ẩm Thực',
    categories: 'Danh Mục',
    blog: 'Blog',
    launch: 'Ra Mắt',
    advertise: 'Quảng Cáo',
    signIn: 'Đăng Nhập',
    signUp: 'Đăng Ký',
    
    // Home page
    heroTitle: 'Khám Phá Nhà Hàng Tốt Nhất Ở Katy',
    heroSubtitle: 'Hướng dẫn thông minh về trải nghiệm ẩm thực địa phương',
    heroLaunchBadge: 'Tham gia lễ ra mắt với ưu đãi, phiếu giảm giá và quà tặng!',
    findBestRestaurants: 'Tìm Nhà Hàng Tốt Nhất Ở Katy, Texas',
    discoverLocal: 'Khám phá những địa điểm yêu thích, viên ngọc ẩn và trải nghiệm ẩm thực mới',
    searchPlaceholder: 'Tìm nhà hàng, món ăn hoặc ẩm thực...',
    featuredRestaurants: 'Nhà Hàng Nổi Bật',
    viewAll: 'Xem Tất Cả',
    browseAllRestaurants: 'Xem Tất Cả Nhà Hàng',
    tryGrubRoulette: 'Thử Vòng Quay Ẩm Thực',
    browseByCategory: 'Duyệt Theo Danh Mục',
    cantDecide: 'Không Quyết Định Được? Quay Vòng!',
    grubRouletteDesc: 'Để Vòng Quay Ẩm Thực chọn cuộc phiêu lưu ẩm thực tiếp theo của bạn',
    startSpinning: 'Bắt Đầu Quay',
    exploreMap: 'Khám Phá Nhà Hàng Trên Bản Đồ',
    exploreMapDesc: 'Tìm nhà hàng gần bạn với bản đồ tương tác',
    viewInteractiveMap: 'Xem Bản Đồ Tương Tác',
    openMap: 'Mở Bản Đồ',
    
    // Restaurant details
    about: 'Giới Thiệu',
    contactHours: 'Liên Hệ & Giờ Mở Cửa',
    address: 'Địa Chỉ',
    phone: 'Điện Thoại',
    website: 'Website',
    getDirections: 'Chỉ Đường',
    reviews: 'Đánh Giá',
    writeReview: 'Viết Đánh Giá',
    
    // Common
    loading: 'Đang tải...',
    save: 'Lưu',
    cancel: 'Hủy',
    edit: 'Chỉnh Sửa',
    delete: 'Xóa',
    search: 'Tìm Kiếm',
    filter: 'Lọc',
    sort: 'Sắp Xếp',
    
    // Price levels
    budget: 'Bình Dân',
    moderate: 'Trung Bình',
    upscale: 'Cao Cấp',
    premium: 'Sang Trọng',
    
    // Footer
    explore: 'Khám Phá',
    allRestaurants: 'Tất Cả Nhà Hàng',
    interactiveMap: 'Bản Đồ Tương Tác',
    featured: 'Nổi Bật',
    familyDiningBlog: 'Blog Ẩm Thực Gia Đình',
    popularCategories: 'Danh Mục Phổ Biến',
    forBusinesses: 'Dành Cho Doanh Nghiệp',
    restaurantPartners: 'Đối Tác Nhà Hàng',
    investorRelations: 'Quan Hệ Nhà Đầu Tư',
    advertiseWithUs: 'Quảng Cáo Với Chúng Tôi',
    privacyPolicy: 'Chính Sách Bảo Mật',
    allRightsReserved: 'Bảo lưu mọi quyền',
    poweredBy: 'Được phát triển bởi',
    aiPoweredGuide: 'Hướng dẫn thông minh về nhà hàng tốt nhất ở Katy, Texas.',
  }
}

export type SupportedLanguage = 'en' | 'es' | 'vi'

export function getTranslation(key: string): string {
  if (typeof window === 'undefined') return key
  
  const language = (localStorage.getItem('ekaty_language') || 'en') as SupportedLanguage
  const keys = key.split('.')
  let value: any = translations[language]
  
  for (const k of keys) {
    value = value?.[k]
  }
  
  return value || key
}

export function useTranslation() {
  const [language, setLanguage] = useState<SupportedLanguage>('en')
  
  useEffect(() => {
    const savedLang = (localStorage.getItem('ekaty_language') || 'en') as SupportedLanguage
    setLanguage(savedLang)
    
    const handleLanguageChange = (e: CustomEvent) => {
      setLanguage(e.detail.language)
    }
    
    window.addEventListener('languageChange', handleLanguageChange as EventListener)
    return () => {
      window.removeEventListener('languageChange', handleLanguageChange as EventListener)
    }
  }, [])
  
  const t = (key: string) => {
    const keys = key.split('.')
    let value: any = translations[language]
    
    for (const k of keys) {
      value = value?.[k]
    }
    
    return value || key
  }
  
  return { t, language }
}

function useState<T>(initialValue: T): [T, (value: T) => void] {
  if (typeof window === 'undefined') {
    return [initialValue, () => {}]
  }
  
  const [state, setState] = (window as any).React?.useState?.(initialValue) || [initialValue, () => {}]
  return [state, setState]
}

function useEffect(effect: () => void | (() => void), deps?: any[]) {
  if (typeof window !== 'undefined' && (window as any).React?.useEffect) {
    (window as any).React.useEffect(effect, deps)
  }
}
